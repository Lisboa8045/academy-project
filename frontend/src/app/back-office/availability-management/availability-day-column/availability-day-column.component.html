<div class="day-column" [class.today]="isToday">
  <div class="day-header">
    <div>
      <h4 class="day-title">{{ day | date: 'EEEE' }}</h4>
      <small class="day-date">{{ day | date: 'dd/MM' }}</small>
    </div>
    <button *ngIf="isSettingDefaults" (click)="addSlot.emit(day)" class="add-slot-button">＋</button>
  </div>

  <div class="slots-container" *ngIf="availabilities.length > 0; else emptyDay">
    <div *ngFor="let avail of availabilities" class="slot-item"
         [class.default-slot]="!avail.isException"
         [class.exception-slot]="avail.isException">
      <div class="slot-info">
        <span class="slot-time">
          {{ avail.startDateTime | date: 'HH:mm' }} - {{ avail.endDateTime | date: 'HH:mm' }}
        </span>
        <span *ngIf="avail.isException" class="exception-badge">Exception</span>
        <span *ngIf="!avail.isException" class="default-badge">Default</span>
      </div>
      <div class="slot-actions">
        <button (click)="editSlot.emit(avail)" class="action-button edit">
          ✏️
        </button>
        <button *ngIf="avail.isException" (click)="deleteSlot.emit(avail)" class="action-button delete">
          🗑️
        </button>
      </div>
    </div>
  </div>

  <ng-template #emptyDay>
    <div class="empty-day">
      <span class="empty-icon">📅</span>
      No availability set
    </div>
  </ng-template>
</div>
