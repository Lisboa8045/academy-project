<div class = "tailwind-scope">
<div class="fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50">
  <div class="bg-white rounded-2xl shadow-lg w-full max-w-2xl p-6 relative animate-scale-in transition-transform duration-300">

    <!-- Close Button -->
    <button
      class="absolute top-3 right-3 text-gray-500 hover:text-gray-700 text-base font-bold bg-transparent border-none"
      (click)="close.emit()"
      aria-label="Close"
    >
      ✕
    </button>

    <!-- Title -->
    <h2 class="text-center text-2xl font-bold text-gray-800 mb-6">Submit Your Review</h2>

    <!-- Form -->
    <form (ngSubmit)="submit()" class="space-y-6">

      <!-- Rating -->
      <div class="sm:col-span-2 flex items-center justify-center">
        <span class="font-semibold mr-2">Rating:</span>
        <span class="text-yellow-500 text-2xl">
    <ng-container *ngFor="let star of [1,2,3,4,5]">
      <span
        class="cursor-pointer"
        (click)="setRating(star)"
      >
        {{ star <= rating ? '★' : '☆' }}
      </span>
    </ng-container>
  </span>
      </div>


      <!-- Comment -->
      <div>
        <label class="block font-semibold text-gray-700 mb-1">Comment:</label>
        <textarea
          [(ngModel)]="comment"
          name="comment"
          rows="4"
          required
          class="w-full border border-gray-300 rounded-md p-2 text-sm text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500"
          placeholder="Write your feedback..."
        ></textarea>
      </div>

      <!-- Buttons: Styled to match rest of app -->
      <div class="flex justify-end gap-2 pt-2">
        <button
          type="button"
          class="w-20 py-2 rounded-full bg-red-600 text-white hover:bg-red-700 transition"
          (click)="close.emit()"
        >
          Cancel
        </button>
        <button
          type="submit"
          [disabled]="rating === 0 || comment.trim() === ''"
          class="w-20 py-2 rounded-full bg-blue-600 text-white hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed"
        >
          Submit
        </button>
      </div>
    </form>
  </div>
</div>
</div>
